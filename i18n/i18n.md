# Set up i18n for React Native Expo Apps with TypeScript - the Railslove way

## Installation

`yarn add react-native-localize`

`yarn add i18n-js`

Your package.json dependencies should look like this:

<script src="https://gist.github.com/P3nny/b76d2ef1aa016825e7ad43d79b6eb2b1.js?file=dependencies_package.json"></script>


## Configuration

Add a configuration file in your xx directory. It should look like this:

<script src="https://gist.github.com/P3nny/b76d2ef1aa016825e7ad43d79b6eb2b1.js?file=src_i18n.ts"></script>


## Translation

Add a `locales` folder in your xx directory. It will store all the translations files. For smaller applications one file for each language might be enough or you can devide the translations into seperate files, for example one file vor every screen.

Adding a translation in a screen or component involves three steps:

1. Import i18n

    ``` import { useTranslation } from 'react-i18next ```

2. Use translation

    In your functional component add this before the return statement:

    ```
    function Home(props) {
      const { t } = useTranslation()
      return (
              <Text>
                {t('home:Ich wurde diskriminiert oder habe etwas beobachtet.')}
              </Text>
          )}
    ```

3. Add translations in your code

    Directly as an html element:

    ```
    <Text>
      t('home:Ich wurde diskriminiert oder habe etwas beobachtet.')}
    </Text>
    ```

    Or as a prop in a component:

    ```
      <Stack.Screen
        name="datapoints"
        options={{
          title: t("projectScreen:Datenpunkte favorisieren"),
          header: header,
        }}
      />
    ```

A sample translations file looks like this:

<script src="https://gist.github.com/P3nny/b76d2ef1aa016825e7ad43d79b6eb2b1.js?file=locales_en_example.json"></script>


Don’t forget if you add more locales to import them in i18n.ts, like this:

    export const locales = {
      en: {
        newScreen: require("../locales/en/newScreen.json"),
      },}


## Scripts

i18next-parser
https://www.npmjs.com/package/i18next-parser

`yarn run i18n`


<scripts_package.json>
{
  "scripts": {
    "i18n": "i18next -c 'i18next-parser.config.js'",
    "i18n:check-clean": "node ./scripts/check-i18n-clean.js"
  }
}


## VS Code Extension "VS Code Extension „i18n Ally"

## Links
https://docs.expo.io/versions/latest/sdk/localization/
https://react.i18next.com/latest/using-with-hooks
https://medium.com/@nicolas.kovacs/react-native-localize-and-i18n-js-117f09428017
